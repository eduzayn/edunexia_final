Resumo do problema
O erro:

pgsql
Copiar
Editar
Uncaught NotFoundError: Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.
está acontecendo porque algum componente do front-end está tentando renderizar ou manipular diretamente o DOM, provavelmente antes de o container pai estar pronto.

Esse erro geralmente vem de:

🧩 Bibliotecas visuais como Quill, TipTap, Radix UI, Shadcn, React Quill, etc.

⚠️ Uso incorreto de ref ou document.createElement() + insertBefore() em useEffect

📦 Ou renderização condicional onde o parentNode ainda não foi montado

🔍 Etapas para identificar e corrigir o erro
1. Identifique qual componente está quebrando
A tela azul está na URL:

bash
Copiar
Editar
/admin/academico/disciplines/:id/content
👉 Então o problema está em algum componente que é montado nessa rota. Acesse:

css
Copiar
Editar
client/src/pages/admin/discipline-content-page.tsx
e procure componentes como:

tsx
Copiar
Editar
<Editor /> 
<EditorContent />
<QuillEditor />
ou qualquer um que tenha ref, dangerouslySetInnerHTML, insertBefore, ou use bibliotecas de rich text.

2. Procure por uso incorreto de insertBefore ou ref
No componente que está sendo carregado, busque blocos como:

tsx
Copiar
Editar
const container = containerRef.current
container.insertBefore(element, container.firstChild)
ou

tsx
Copiar
Editar
node.insertBefore(newNode, referenceNode)
➡️ Eles precisam estar protegidos com if (container.contains(referenceNode)) ou containerRef?.current já montado.

3. Aplique correção com useEffect + verificação de existência
Use algo assim:

tsx
Copiar
Editar
useEffect(() => {
  const parent = containerRef.current
  const child = someNodeRef.current

  if (parent && child && parent.contains(child)) {
    parent.insertBefore(newNode, child)
  }
}, [])
Ou use bibliotecas que não tentem manipular o DOM diretamente antes da renderização (exemplo: TipTap é mais estável que o Quill.js puro).

4. Verifique se o conteúdo da disciplina (discipline.content) está vindo corretamente
Pode ser que a API de conteúdo esteja quebrando e isso cause a falha antes de montar o editor. Teste via console:

ts
Copiar
Editar
fetch('/api/disciplines/35')
fetch('/api/disciplines/35/content')
Se algum deles retornar erro ou undefined, o front quebra ao tentar montar o editor.

