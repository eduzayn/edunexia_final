Resumo do problema
O erro:

pgsql
Copiar
Editar
Uncaught NotFoundError: Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.
estÃ¡ acontecendo porque algum componente do front-end estÃ¡ tentando renderizar ou manipular diretamente o DOM, provavelmente antes de o container pai estar pronto.

Esse erro geralmente vem de:

ğŸ§© Bibliotecas visuais como Quill, TipTap, Radix UI, Shadcn, React Quill, etc.

âš ï¸ Uso incorreto de ref ou document.createElement() + insertBefore() em useEffect

ğŸ“¦ Ou renderizaÃ§Ã£o condicional onde o parentNode ainda nÃ£o foi montado

ğŸ” Etapas para identificar e corrigir o erro
1. Identifique qual componente estÃ¡ quebrando
A tela azul estÃ¡ na URL:

bash
Copiar
Editar
/admin/academico/disciplines/:id/content
ğŸ‘‰ EntÃ£o o problema estÃ¡ em algum componente que Ã© montado nessa rota. Acesse:

css
Copiar
Editar
client/src/pages/admin/discipline-content-page.tsx
e procure componentes como:

tsx
Copiar
Editar
<Editor /> 
<EditorContent />
<QuillEditor />
ou qualquer um que tenha ref, dangerouslySetInnerHTML, insertBefore, ou use bibliotecas de rich text.

2. Procure por uso incorreto de insertBefore ou ref
No componente que estÃ¡ sendo carregado, busque blocos como:

tsx
Copiar
Editar
const container = containerRef.current
container.insertBefore(element, container.firstChild)
ou

tsx
Copiar
Editar
node.insertBefore(newNode, referenceNode)
â¡ï¸ Eles precisam estar protegidos com if (container.contains(referenceNode)) ou containerRef?.current jÃ¡ montado.

3. Aplique correÃ§Ã£o com useEffect + verificaÃ§Ã£o de existÃªncia
Use algo assim:

tsx
Copiar
Editar
useEffect(() => {
  const parent = containerRef.current
  const child = someNodeRef.current

  if (parent && child && parent.contains(child)) {
    parent.insertBefore(newNode, child)
  }
}, [])
Ou use bibliotecas que nÃ£o tentem manipular o DOM diretamente antes da renderizaÃ§Ã£o (exemplo: TipTap Ã© mais estÃ¡vel que o Quill.js puro).

4. Verifique se o conteÃºdo da disciplina (discipline.content) estÃ¡ vindo corretamente
Pode ser que a API de conteÃºdo esteja quebrando e isso cause a falha antes de montar o editor. Teste via console:

ts
Copiar
Editar
fetch('/api/disciplines/35')
fetch('/api/disciplines/35/content')
Se algum deles retornar erro ou undefined, o front quebra ao tentar montar o editor.

