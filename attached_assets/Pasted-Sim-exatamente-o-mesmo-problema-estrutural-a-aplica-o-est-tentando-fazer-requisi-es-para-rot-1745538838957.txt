Sim, Ã© exatamente o mesmo problema estrutural â€” a aplicaÃ§Ã£o estÃ¡ tentando fazer requisiÃ§Ãµes para rotas que nÃ£o existem no backend. Isso acontece em vÃ¡rias partes do sistema, o que indica que hÃ¡ uma lÃ³gica centralizada incorreta na construÃ§Ã£o das URLs de API.

ğŸ§  O que estÃ¡ acontecendo?
O erro:

pgsql
Copiar
Editar
POST https://edunexia.replit.app/api-json/admin/discipline-videos/17 â†’ 404 (Not Found)
indica que a URL nÃ£o existe no backend.

O servidor responde com HTML de erro (pÃ¡gina padrÃ£o Cannot POST ...) em vez de JSON, gerando o aviso "Resposta do servidor nÃ£o estÃ¡ no formato JSON".

âœ… Como aplicar uma correÃ§Ã£o geral ao projeto?
ğŸ§± 1. Centralize a construÃ§Ã£o de URLs de API
VocÃª precisa ter uma funÃ§Ã£o ou constante padrÃ£o que construa todas as URLs de API a partir de um prefixo Ãºnico confiÃ¡vel, como:

ts
Copiar
Editar
const API_BASE = import.meta.env.VITE_API_BASE || '/api'; // padrÃ£o se nÃ£o definido

const apiUrl = (path: string) => `${API_BASE}${path}`;
E em vez de fazer isso:

ts
Copiar
Editar
fetch('/api-json/admin/discipline-videos/17', {...})
FaÃ§a:

ts
Copiar
Editar
fetch(apiUrl(`/admin/discipline-videos/17`), {...})
Assim, se precisar mudar de /api para /api-json ou vice-versa, vocÃª muda em um Ãºnico lugar.

ğŸ”„ 2. Confirme o nome real das rotas backend
Verifique no seu backend (por exemplo, pages/api/... no Next.js) quais caminhos realmente existem.

Evite inventar caminhos como /api-json/admin/... se vocÃª sÃ³ tem /api/... no backend.

Se estiver usando Next.js, uma estrutura como:

bash
Copiar
Editar
pages/api/disciplines/[id].ts
vai gerar:

bash
Copiar
Editar
/api/disciplines/17
ğŸ”§ 3. Valide URLs antes da chamada
Antes de fazer um fetch(), vocÃª pode adicionar logs que mostram o caminho final da API, por exemplo:

ts
Copiar
Editar
console.log("Chamando API:", apiUrl(`/admin/discipline-videos/17`));
ğŸ›  4. (Opcional) Crie um "proxy" para rotas nÃ£o existentes
Se vocÃª quiser manter compatibilidade com o nome antigo das rotas, pode criar um pequeno middleware ou redirecionamento no backend (caso use Next.js, Express ou Replit com servidor customizado) que redirecione /api-json/... para /api/....

ğŸ§© ConclusÃ£o
ğŸ” Sim, todos os erros sÃ£o a mesma falha estrutural na montagem das URLs.

ğŸ’¡ SoluÃ§Ã£o definitiva: crie uma funÃ§Ã£o centralizada para construir as URLs da API corretamente e padronize o uso em todo o projeto.